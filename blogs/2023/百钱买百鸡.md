---
title: 百钱买百鸡
date: 2023-12-27 19:43:20
categories:
 - algorithm
tags:
  算法
---
## 题目概要
我国古代数学家张丘建在《算经》一书中曾提出过著名的“百钱买百鸡”问题，该问题叙述如下：鸡翁一，值钱五；鸡母一，值钱三；鸡雏三，值钱一；百钱买百鸡，则翁、母、雏各几何？ 翻译过来，意思是公鸡一个五块钱，母鸡一个三块钱，小鸡三个一块钱，现在要用一百块钱买一百只鸡，问公鸡、母鸡、小鸡各多少只？

<!--more-->

## 思路分析
设公鸡、母鸡、小鸡数量分别x、y、z，由题意可知，需要同时满足条件⑴
$$
\begin{equation}
\left\{
\begin{array}{cl}
 & x+y+z=0 \\
 & 5*x+3*y+\frac{z}{3}=100  \\
\end{array} \right.
\end{equation}
$$

本题首先可以考虑通过**暴力求解**进行，题目限制买100只公鸡、母鸡、小鸡，故**每种鸡**我们可以从0**枚举**到100，同时根据⑴式判断是否符合要求，并将符合要求的输出到控制台

---
通过暴力求解的伪代码（见下），可以发现，代码中使用了三层for循环，**时间复杂度达到了$n^3$**，在本题中甚至时间复杂度达到了O(1000)

由此我们需要考虑代码是否可以优化？经过细心观察可以发现，代码中存在许多无用的循环。

故首先我们可以考虑对枚举范围进行缩小，分析代码及题干可知，xyz不必循环到100结束，因为公鸡5元/只，母鸡3元/只，小鸡3只/元，故公鸡最多买$100/5=20$只，同理，母鸡最多买33只，小鸡买的一定是3的倍数（不可能劈开买）且最多不超过100只（最多买100只鸡）

---
上述伪代码（见下）虽然进行了优化，但是可以发现，依旧使用了三层for循环，**时间复杂度达到了$n^3$**；当题目变成万元买万鸡时，复杂度会达到惊人的程度

通过观察，我们发现，题目中**只有**三种鸡：公鸡、母鸡、小鸡，并且，需要买鸡的总数**已知固定**（即：100），这时，如果公鸡母鸡总数定下来，小鸡数量一定为$z=100-x-y$，据此我们可以**将三重循环优化成二重循环**

---

现在我们将一个三重循环的代码优化成了二重循环，时间复杂度由 $O(n^3)$ 降到了 $O(n^2)$。

此时通过二重循环部分的伪代码Ⅱ，发现可以将变量z消掉，于是受到启发，我们可以利用**数学消元法**将代码优化成一重循环

### 推导过程
根据题目可以列出等式：
$$
\begin{equation}
\left\{
\begin{array}{cl}
 x+y+z=0 \\
 5*x+3*y+\frac{z}{3}=100  \\
\end{array} \right.
\end{equation}
$$

以保留x为例，我们通过消元可以得到
$$
\begin{equation}
\left\{
\begin{array}{cl}
 y=25-\frac{7x}{4}\\
 z=75+\frac{3x}{4}  \\
\end{array} \right.
\end{equation}
$$

下面令x取不同值，同时检查y、z，若x，y，z均满足等式2和3，则解就是有效的。同时，由于等式3是由等式2推导得到，故解应当满足等式2

由上等式2和3可知：
$$
\begin{equation}
\left\{
\begin{array}{cl}
& 对于y来说，x \leq \frac {100} {7} \\
& 对于z来说，x \leq 100，且z应为3的倍数\\
& 对于x来说，x \geq 0\\
\end{array} \right.
\end{equation}
$$

x取交集，**可知 $0 \leq x \leq 14$，且z是3的倍数**，故有伪代码4


## 伪代码
暴力求解：
```伪代码
for x=0 to 100,x++:
  for y=0 to 100,y++:
    for z=0 to 100,z+=3:
      if x+y+z==100 and 5*x+3*y+z/3==100:
        print:x,y,z;
```

缩小枚举范围：
```伪代码
for x=0 to 20,x++:
  for y=0 to 33,y++:
      for z=0 to 100,z+=3:
        if x+y+z==100 and 5*x+3*y+z/3==100 and z%3==0:
        print:x,y,z;
```

二重循环：

Ⅰ
```伪代码

for x=0 to 20,x++:
  for y=0 to 33,y++:
      z = 100-x-y;
      if x+y+z==100 and 5*x+3*y+z/3==100 and z%3==0:
        print:x,y,z;
```
Ⅱ
```伪代码
for x=0 to 20,x++:
  for y=0 to 33,y++:
      if x+y+(100-x-y)==100 and 5*x+3*y+(100-x-y)/3==100 and (100-x-y)%3==0:
        print:x,y,z;
```

一重循环
```
for x=0 to 14:
  y=25-7*x/4
  z=75+3*x/4

  if x+y+z==100 and 5*x+3*y+z/3==100 and z%3==0:
    print:x,y,z
```

## 代码实现
【略】